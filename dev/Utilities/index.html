<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Utilities · CLIMA</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="CLIMA logo"/></a><h1>CLIMA</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Modules</span><ul><li class="current"><a class="toctext" href><code>Utilities</code></a><ul class="internal"><li><a class="toctext" href="#Root-solvers-1">Root solvers</a></li><li><a class="toctext" href="#Moist-thermodynamics-1">Moist thermodynamics</a></li></ul></li></ul></li><li><span class="toctext">Developer docs</span><ul><li><a class="toctext" href="../CodingConventions/">Coding Conventions</a></li><li><a class="toctext" href="../AcceptableUnicode/">Acceptable Unicode characters:</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Modules</li><li><a href><code>Utilities</code></a></li></ul><a class="edit-page" href="https://github.com/climate-machine/CLIMA/blob/master/docs/src/Utilities.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Utilities</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Utilities-1" href="#Utilities-1"><code>Utilities</code></a></h1><h2><a class="nav-anchor" id="Root-solvers-1" href="#Root-solvers-1">Root solvers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.RootSolvers" href="#CLIMA.Utilities.RootSolvers"><code>CLIMA.Utilities.RootSolvers</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p><strong>RootSolvers</strong></p><p>Module containing functions for solving roots of non-linear equations. The returned result is a tuple of the root and a Bool indicating convergence.</p><pre><code class="language-none">find_zero(f::F,
           x_0::T,
           x_1::T,
           args::Tuple,
           iter_params::IterParams{R, Int},
           method::RootSolvingMethod
           )::Tuple{T, Bool} where {F, R, T &lt;: Union{R, AbstractArray{R}}}</code></pre><hr/><p><strong>Interface</strong></p><ul><li><a href="#CLIMA.Utilities.RootSolvers.find_zero"><code>find_zero</code></a> compute x^* such that f(x^*) = 0</li></ul><p><strong>Arguments</strong></p><ul><li><code>f</code> equation roots function, where <code>f</code> is callable via <code>f(x, args...)</code></li><li><code>x_0, x_1</code> initial guesses</li><li><a href="@ref"><code>IterParams</code></a> struct containing absolute tolerance on f(x^*) and maximum iterations</li><li><a href="@ref"><code>RootSolvingMethod</code></a> Algorithm to solve roots of the equation:<ul><li><a href="@ref"><code>SecantMethod</code></a> Secant method</li><li><a href="@ref"><code>RegulaFalsiMethod</code></a> Regula Falsi Method</li></ul></li></ul><p><strong>Single example</strong></p><pre><code class="language-none">julia&gt; using RootSolvers
x_0 = 0.0
x_1 = 1.0
f(x, y) = x^2 - y
x_star2 = 10000.0
args = Tuple(x_star2)
x_star = sqrt(x_star2)
tol_abs = 1.0e-3
iter_max = 100

x_root, converged = find_zero(f,
                              x_0,
                              x_1,
                              args,
                              IterParams(tol_abs, iter_max),
                              SecantMethod())</code></pre><p><strong>Broadcast example</strong></p><p>To broadcast, wrap arguments that need not be broadcasted in a Ref.</p><pre><code class="language-none">julia&gt; using RootSolvers
x_0 = rand(5,5)
x_1 = rand(5,5).+2.0
f(x, y) = x^2 - y
x_star2 = 10000.0
args = Tuple(x_star2)
x_star = sqrt(x_star2)
tol_abs = 1.0e-3
iter_max = 100
x_root, converged = find_zero.(f,
                               x_0,
                               x_1,
                               Ref(args),
                               Ref(IterParams(tol_abs, iter_max)),
                               Ref(SecantMethod()))</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/RootSolvers.jl#L1-L73">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.RootSolvers.find_zero" href="#CLIMA.Utilities.RootSolvers.find_zero"><code>CLIMA.Utilities.RootSolvers.find_zero</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>find_zero(f, x_0, x_1, args, iter_params, SecantMethod)</code></p><p>Solves the root equation, <code>f</code>, using Secant method. See <a href="@ref">RootSolvers</a> for more information.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/RootSolvers.jl#L93-L98">source</a><div><div><p><code>find_zero(f, x_0, x_1, args, iter_params, RegulaFalsiMethod)</code></p><p>Solves the root equation, <code>f</code>, using Regula Falsi method. See <a href="@ref">RootSolvers</a> for more information.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/RootSolvers.jl#L126-L131">source</a></section><h2><a class="nav-anchor" id="Moist-thermodynamics-1" href="#Moist-thermodynamics-1">Moist thermodynamics</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics" href="#CLIMA.Utilities.MoistThermodynamics"><code>CLIMA.Utilities.MoistThermodynamics</code></a> — <span class="docstring-category">Module</span>.</div><div><div><pre><code class="language-none">MoistThermodynamics</code></pre><p>Moist thermodynamic functions, e.g., for air pressure (atmosphere equation of state), latent heats of phase transitions, saturation vapor pressures, and saturation specific humidities</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.gas_constant_air" href="#CLIMA.Utilities.MoistThermodynamics.gas_constant_air"><code>CLIMA.Utilities.MoistThermodynamics.gas_constant_air</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">gas_constant_air([q_t=0, q_l=0, q_i=0])</code></pre><p>Return the specific gas constant of moist air, given the total specific humidity <code>q_t</code>, and, optionally, the liquid specific humidity <code>q_l</code>, and the ice specific humidity <code>q_i</code>. When no input argument is given, it returns the specific gas constant of dry air.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L36-L43">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.air_pressure" href="#CLIMA.Utilities.MoistThermodynamics.air_pressure"><code>CLIMA.Utilities.MoistThermodynamics.air_pressure</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">air_pressure(T, ρ[, q_t=0, q_l=0, q_i=0])</code></pre><p>Return the air pressure from the equation of state (ideal gas law), given the air temperature <code>T</code>, the (moist-)air density <code>ρ</code>, and, optionally, the total specific humidity <code>q_t</code>, the liquid specific humidity <code>q_l</code>, and the ice specific humidity <code>q_i</code>. Without the specific humidity arguments, it returns the air pressure from the equation of state of dry air.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L50-L58">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.air_density" href="#CLIMA.Utilities.MoistThermodynamics.air_density"><code>CLIMA.Utilities.MoistThermodynamics.air_density</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">air_density(T, p[, q_t=0, q_l=0, q_i=0])</code></pre><p>Return the (moist-)air density from the equation of state (ideal gas law), given the air temperature <code>T</code>, the pressure <code>p</code>, and, optionally, the total specific humidity <code>q_t</code>, the liquid specific humidity <code>q_l</code>, and the ice specific humidity <code>q_i</code>. Without the specific humidity arguments, it returns the air density from the equation of state of dry air.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L65-L73">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.cp_m" href="#CLIMA.Utilities.MoistThermodynamics.cp_m"><code>CLIMA.Utilities.MoistThermodynamics.cp_m</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">cp_m([q_t=0, q_l=0, q_i=0])</code></pre><p>Return the isobaric specific heat capacity of moist air, given the total water specific humidity <code>q_t</code>, liquid specific humidity <code>q_l</code>, and ice specific humidity <code>q_i</code>. Without the specific humidity arguments, it returns the isobaric specific heat capacity of dry air.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L80-L87">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.cv_m" href="#CLIMA.Utilities.MoistThermodynamics.cv_m"><code>CLIMA.Utilities.MoistThermodynamics.cv_m</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">cv_m([q_t=0, q_l=0, q_i=0])</code></pre><p>Return the isochoric specific heat capacity of moist air, given the total water specific humidity <code>q_t</code>, liquid specific humidity <code>q_l</code>, and ice specific humidity <code>q_i</code>. Without the specific humidity arguments, it returns the isochoric specific heat capacity of dry air.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L94-L101">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.air_temperature" href="#CLIMA.Utilities.MoistThermodynamics.air_temperature"><code>CLIMA.Utilities.MoistThermodynamics.air_temperature</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">air_temperature(e_int[, q_t=0, q_l=0, q_i=0])</code></pre><p>Return the air temperature, given the internal energy <code>e_int</code> per unit mass, and, optionally, the total specific humidity <code>q_t</code>, the liquid specific humidity <code>q_l</code>, and the ice specific humidity <code>q_i</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L108-L114">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.internal_energy" href="#CLIMA.Utilities.MoistThermodynamics.internal_energy"><code>CLIMA.Utilities.MoistThermodynamics.internal_energy</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">internal_energy(T[, q_t=0, q_l=0, q_i=0])</code></pre><p>Return the internal energy per unit mass, given the temperature <code>T</code>, and, optionally, the total specific humidity <code>q_t</code>, the liquid specific humidity <code>q_l</code>, and the ice specific humidity <code>q_i</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L123-L129">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.internal_energy_sat" href="#CLIMA.Utilities.MoistThermodynamics.internal_energy_sat"><code>CLIMA.Utilities.MoistThermodynamics.internal_energy_sat</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">internal_energy_sat(T, ρ, q_t)</code></pre><p>Return the internal energy per unit mass in thermodynamic equilibrium at saturation, given the temperature <code>T</code>, (moist-)air density <code>ρ</code>, and total specific humidity <code>q_t</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L137-L143">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.total_energy" href="#CLIMA.Utilities.MoistThermodynamics.total_energy"><code>CLIMA.Utilities.MoistThermodynamics.total_energy</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">total_energy(KE, PE, T[, q_t=0, q_l=0, q_i=0])</code></pre><p>Return the total energy per unit mass, given the kinetic energy per unit mass <code>KE</code>, the potential energy per unit mass <code>PE</code>, the temperature <code>T</code>, and, optionally, the total specific humidity <code>q_t</code>, the liquid specific humidity <code>q_l</code>, and the ice specific humidity <code>q_i</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L153-L160">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.latent_heat_vapor" href="#CLIMA.Utilities.MoistThermodynamics.latent_heat_vapor"><code>CLIMA.Utilities.MoistThermodynamics.latent_heat_vapor</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">latent_heat_vapor(T)</code></pre><p>Return the specific latent heat of vaporization at temperature <code>T</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L168-L172">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.latent_heat_sublim" href="#CLIMA.Utilities.MoistThermodynamics.latent_heat_sublim"><code>CLIMA.Utilities.MoistThermodynamics.latent_heat_sublim</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">latent_heat_sublim(T)</code></pre><p>Return the specific latent heat of sublimation at temperature <code>T</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L179-L183">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.latent_heat_fusion" href="#CLIMA.Utilities.MoistThermodynamics.latent_heat_fusion"><code>CLIMA.Utilities.MoistThermodynamics.latent_heat_fusion</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">latent_heat_fusion(T)</code></pre><p>Return the specific latent heat of fusion at temperature <code>T</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L190-L194">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.latent_heat_generic" href="#CLIMA.Utilities.MoistThermodynamics.latent_heat_generic"><code>CLIMA.Utilities.MoistThermodynamics.latent_heat_generic</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">latent_heat_generic(T, LH_0, cp_diff)</code></pre><p>Return the specific latent heat of a generic phase transition between two phases using Kirchhoff&#39;s relation.</p><p>The latent heat computation assumes constant isobaric specifc heat capacities of the two phases. <code>T</code> is the temperature, <code>LH_0</code> is the latent heat of the phase transition at <code>T_0</code>, and <code>cp_diff</code> is the difference between the isobaric specific heat capacities (heat capacity in the higher-temperature phase minus that in the lower-temperature phase).</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L201-L212">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.saturation_vapor_pressure" href="#CLIMA.Utilities.MoistThermodynamics.saturation_vapor_pressure"><code>CLIMA.Utilities.MoistThermodynamics.saturation_vapor_pressure</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">`saturation_vapor_pressure(T, Liquid())`</code></pre><p>Return the saturation vapor pressure over a plane liquid surface at temperature <code>T</code>.</p><pre><code class="language-none">`saturation_vapor_pressure(T, Ice())`</code></pre><p>Return the saturation vapor pressure over a plane ice surface at temperature <code>T</code>.</p><pre><code class="language-none">`saturation_vapor_pressure(T, LH_0, cp_diff)`</code></pre><p>Compute the saturation vapor pressure over a plane surface by integration of the Clausius-Clepeyron relation.</p><p>The Clausius-Clapeyron relation</p><pre><code class="language-none">dlog(p_vs)/dT = [LH_0 + cp_diff * (T-T_0)]/(R_v*T^2)</code></pre><p>is integrated from the triple point temperature <code>T_triple</code>, using Kirchhoff&#39;s relation</p><pre><code class="language-none">L = LH_0 + cp_diff * (T - T_0)</code></pre><p>for the specific latent heat <code>L</code> with constant isobaric specific heats of the phases. The linear dependence of the specific latent heat on temperature <code>T</code> allows analytic integration of the Clausius-Clapeyron relation to obtain the saturation vapor pressure <code>p_vs</code> as a function of the triple point pressure <code>press_triple</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L223-L252">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.saturation_shum_generic" href="#CLIMA.Utilities.MoistThermodynamics.saturation_shum_generic"><code>CLIMA.Utilities.MoistThermodynamics.saturation_shum_generic</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">saturation_shum_generic(T, ρ[; phase=Liquid()])</code></pre><p>Compute the saturation specific humidity over a plane surface of condensate, given the temperature <code>T</code> and the (moist-)air density <code>ρ</code>.</p><p>The optional argument <code>phase</code> can be <span>$Liquid()$</span> or <span>$&quot;ice&quot;$</span> and indicates the condensed phase.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L263-L271">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.saturation_shum" href="#CLIMA.Utilities.MoistThermodynamics.saturation_shum"><code>CLIMA.Utilities.MoistThermodynamics.saturation_shum</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">saturation_shum(T, ρ[, q_l=0, q_i=0])</code></pre><p>Compute the saturation specific humidity, given the temperature <code>T</code> and (moist-)air density <code>ρ</code>.</p><p>If the optional liquid, and ice specific humdities <code>q_t</code> and <code>q_l</code> are given, the saturation specific humidity is that over a mixture of liquid and ice, computed in a thermodynamically consistent way from the weighted sum of the latent heats of the respective phase transitions (Pressel et al., JAMES, 2015). That is, the saturation vapor pressure and from it the saturation specific humidity are computed from a weighted mean of the latent heats of vaporization and sublimation, with the weights given by the fractions of condensate <code>q_l</code>/(<code>q_l</code> + <code>q_i</code>) and <code>q_i</code>/(<code>q_l</code> + <code>q_i</code>) that are liquid and ice, respectively.</p><p>If the condensate specific humidities <code>q_l</code> and <code>q_i</code> are not given or are both zero, the saturation specific humidity is that over a mixture of liquid and ice, with the fraction of liquid given by temperature dependent <code>liquid_fraction(T)</code> and the fraction of ice by the complement <code>1 - liquid_fraction(T)</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L280-L300">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.saturation_shum_from_pressure" href="#CLIMA.Utilities.MoistThermodynamics.saturation_shum_from_pressure"><code>CLIMA.Utilities.MoistThermodynamics.saturation_shum_from_pressure</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">saturation_shum_from_pressure(ρ, T, p_vs)</code></pre><p>Compute the saturation specific humidity, given the ambient air density <code>ρ</code>, temperature <code>T</code>, and the saturation vapor pressure <code>p_vs</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L320-L325">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.liquid_fraction" href="#CLIMA.Utilities.MoistThermodynamics.liquid_fraction"><code>CLIMA.Utilities.MoistThermodynamics.liquid_fraction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">liquid_fraction(T[, q_l=0, q_i=0])</code></pre><p>Return the fraction of condensate that is liquid.</p><p>If the optional input arguments <code>q_l</code> and <code>q_i</code> are not given or are zero, the fraction of liquid is a function that is 1 above <code>T_freeze</code> and goes to zero below <code>T_freeze</code>. If <code>q_l</code> or <code>q_i</code> are nonzero, the liquid fraction is computed from them.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L332-L341">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.heaviside" href="#CLIMA.Utilities.MoistThermodynamics.heaviside"><code>CLIMA.Utilities.MoistThermodynamics.heaviside</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">heaviside(t)</code></pre><p>Return the Heaviside step function at <code>t</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L354-L358">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.phase_partitioning_eq!" href="#CLIMA.Utilities.MoistThermodynamics.phase_partitioning_eq!"><code>CLIMA.Utilities.MoistThermodynamics.phase_partitioning_eq!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">phase_partitioning_eq!(q_l, q_i, T, ρ, q_t)</code></pre><p>Return the partitioning of the phases in equilibrium.</p><p>Given the temperature <code>T</code> and (moist-)air density <code>ρ</code>, <code>phase_partitioning_eq!</code> partitions the total specific humidity <code>q_t</code> into the liquid specific humidity <code>q_l</code> and ice specific humiditiy <code>q_l</code> using the <code>liquid_fraction</code> function. The residual <code>q_t - q_l - q_i</code> is the vapor specific humidity.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L363-L372">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.saturation_adjustment" href="#CLIMA.Utilities.MoistThermodynamics.saturation_adjustment"><code>CLIMA.Utilities.MoistThermodynamics.saturation_adjustment</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">saturation_adjustment(e_int, ρ, q_t[, T_init = T_triple])</code></pre><p>Return the temperature that is consistent with the internal energy <code>e_int</code>, (moist-)air density <code>ρ</code>, and total specific humidity <code>q_t</code>.</p><p>The optional input value of the temperature <code>T_init</code> is taken as the initial value of the saturation adjustment iterations.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L393-L401">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CLIMA.Utilities.MoistThermodynamics.liquid_ice_pottemp" href="#CLIMA.Utilities.MoistThermodynamics.liquid_ice_pottemp"><code>CLIMA.Utilities.MoistThermodynamics.liquid_ice_pottemp</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">liquid_ice_pottemp(T, p[, q_t=0, q_l=0, q_i=0])</code></pre><p>Return the liquid-ice potential temperature, given the temperature <code>T</code>, pressure <code>p</code>, total specific humidity <code>q_t</code>, liquid specific humidity <code>q_l</code>, and ice specific humidity <code>q_i</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/9f93ecad302116870dc58ffaff4bd8e6eac8bd38/src/Utilities/src/MoistThermodynamics.jl#L419-L426">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../CodingConventions/"><span class="direction">Next</span><span class="title">Coding Conventions</span></a></footer></article></body></html>
